(this.webpackJsonpbot=this.webpackJsonpbot||[]).push([[0],{1:function(e,t,n){e.exports={items__cont:"style_items__cont__2A44P",item:"style_item__1CILF",description:"style_description__2MZFx",description_image:"style_description_image__3AFQ9",description_info:"style_description_info__3K4Go",description_title:"style_description_title__3npL0",description_size:"style_description_size__3wC-Q",description_price:"style_description_price__2Gqot",old_price:"style_old_price__3jaZu",action:"style_action__3Ncv3",btn:"style_btn__2XZvl",count:"style_count__1_cc-",recycleBin:"style_recycleBin__3hYDR"}},12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(5),o=n.n(i),r=n(3),s=n(2),l=n(1),u=n.n(l),d=function(e){var t=e.imgLink,n=e.discount_price,a=e.price,i=e.title,o=e.size,r=e.quantity,s=e.id,l=e.increment,d=e.decrement,m=e.delet;return c.a.createElement("div",{className:u.a.items__cont},c.a.createElement("div",{className:u.a.item},c.a.createElement("div",{className:u.a.description},c.a.createElement("div",{className:u.a.description_image},c.a.createElement("img",{src:t,alt:"image"})),c.a.createElement("div",{className:u.a.description_info},c.a.createElement("div",{className:u.a.description_title},i),c.a.createElement("div",{className:u.a.description_size},"\u0420\u0430\u0437\u043c\u0435\u0440: ",o),c.a.createElement("div",{className:u.a.description_price},c.a.createElement("span",null,n?n*r:a*r," \u0440\u0443\u0431."),c.a.createElement("span",{className:u.a.old_price},n?a*r+" \u0440\u0443\u0431.":null)))),c.a.createElement("div",{className:u.a.action},c.a.createElement("button",{type:"button",className:u.a.btn,onClick:function(){return m(s)}},c.a.createElement("i",{className:"".concat(u.a.recycleBin," fa fa-trash-o")})),c.a.createElement("div",{className:u.a.count},r),c.a.createElement("button",{type:"button",onClick:function(){return l(s)},className:u.a.btn},"+"),1!==r?c.a.createElement("button",{type:"button",onClick:function(){return d(s)},className:u.a.btn},"-"):null)))},m=(n(12),n(6));var p=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],p=l[1],f=Object(a.useState)(3),_=Object(s.a)(f,2),b=_[0],h=(_[1],Object(a.useState)(0)),v=Object(s.a)(h,2),y=v[0],g=v[1];Object(a.useEffect)((function(){p(!0),fetch("https://designer.fstrk.io/api/partners/chats/84d7967f-3334-4ca3-ae2d-e90d72f11745/variables/",{headers:{"bot-key":"c7736d90-a435-4f22-920a-1f5d9ce77fb3"}}).then((function(e){return e.json()})).then((function(e){i(e["cart-8f23fa09-c277-424a-9604-f5dd1c859bea"].products),p(!1)})).catch((function(){return p(!1)}))}),[]),Object(a.useEffect)((function(){g(0),n.map((function(e){g((function(t){return t+e.discount_price*e.quantity}))}))}),[n]);var E=function(e){i(e);var t={"cart-8f23fa09-c277-424a-9604-f5dd1c859bea":{products:e}};fetch("https://designer.fstrk.io/api/partners/chats/84d7967f-3334-4ca3-ae2d-e90d72f11745/variables/",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json",Accept:"application/json","bot-key":"c7736d90-a435-4f22-920a-1f5d9ce77fb3"}}).then((function(e){return e}))},N=function(e){g(0);var t=n.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{quantity:t.guid===e?t.quantity+1:t.quantity})}));i(t),E(t)},j=function(e){var t=n.map((function(t){return Object(r.a)(Object(r.a)({},t),{},{quantity:t.guid===e?t.quantity-1:t.quantity})}));E(t)},k=function(e){var t=n.filter((function(t){return t.guid!==e}));i(t),E(t)};return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"items__top"},c.a.createElement("div",{className:"items__basket"},c.a.createElement("h3",null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 ",b)),c.a.createElement("div",{className:"items__price"},c.a.createElement("span",{className:"items__price_cont"},y," \u0440\u0443\u0431."))),c.a.createElement("div",{className:"items"},u?"...loading":n.map((function(e){return c.a.createElement(d,{key:Object(m.a)(),id:e.guid,imgLink:e.image,price:e.price,discount_price:e.discount_price,title:e.title,quantity:e.quantity,size:e.choices.field_multichoice.value,increment:N,decrement:j,delet:k})}))),c.a.createElement("form",{action:"#",className:"items__boot"},c.a.createElement("button",{className:"button__add button",type:"submit",onClick:function(e){e.preventDefault(),i(n);var t={"cart-8f23fa09-c277-424a-9604-f5dd1c859bea":{products:n}};fetch("https://designer.fstrk.io/api/partners/chats/84d7967f-3334-4ca3-ae2d-e90d72f11745/variables/",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json",Accept:"application/json","bot-key":"c7736d90-a435-4f22-920a-1f5d9ce77fb3"}}).then((function(e){return e})).then((function(){fetch("https://api.telegram.org/bot1378834776:AAH8vF6I5CkmFKD4e7Z8nY3MpAb3TEq9gzo/getUpdates").then((function(e){return e.json()})).then((function(e){return e.result[e.result.length-1]})).then((function(e){var t=e.message.from.id,n=document.location.href;return{newWindow:window.open("https://api.telegram.org/bot1378834776:AAH8vF6I5CkmFKD4e7Z8nY3MpAb3TEq9gzo/sendMessage?chat_id=".concat(t,"&text=\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b! ").concat(n),"_blank"),data:e}})).then((function(e){var t=e.newWindow,n=e.data;return setTimeout((function(){t.close()}),1e3),n})).then((function(e){var t=e.message.from.username;document.location.assign("tg://resolve?domain=@".concat(t))}))}))}},"O\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),c.a.createElement("button",{className:"button",type:"submit",onClick:function(e){var t=n.slice(0,0);E(t)}},"O\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043a\u043e\u0440\u0437\u0438\u043d\u0443")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.f4d6a5b2.chunk.js.map